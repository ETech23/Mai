<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LearnAI & Crypto - Interactive Learning Platform</title>
    <link rel="stylesheet" href="lesson.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation -->
        <nav id="top-nav">
            <button id="sidebar-toggle" class="sidebar-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <h1 class="logo">Maichain Learning Hub</h1>
        </nav>
        
        <!-- Sidebar Navigation -->
        <aside id="side-nav" class="side-nav">
            <div class="sidebar-content">
                <nav class="main-nav">
                    <ul>
                        <li class="active"><a href="#dashboard"><i class="fas fa-home"></i> Dashboard</a></li>
                        <li><a href="#ai-courses"><i class="fas fa-robot"></i> AI Courses</a></li>
                        <li><a href="#crypto-courses"><i class="fas fa-coins "></i> Crypto Courses</a></li>
                    </ul>
                </nav>
                
                <div class="sidebar-footer">
                    <div class="theme-toggle">
                        <button id="theme-toggle-btn" class="toggle-btn">
                            <i class="fas fa-moon"></i>
                        </button>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Mobile Overlay -->
        <div class="mobile-overlay"></div>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content">
            <div class="loading-message">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading learning content...</p>
            </div>
        </main>
    </div>

<!-- Load lesson2.js FIRST -->
    <script src="lesson2.js"></script>
    
    <!-- Then initialize everything -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize theme
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            // Theme toggle
            const themeBtn = document.getElementById('theme-toggle-btn');
            themeBtn.innerHTML = savedTheme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            
            themeBtn.addEventListener('click', () => {
                const html = document.documentElement;
                const isDark = html.getAttribute('data-theme') === 'dark';
                const newTheme = isDark ? 'light' : 'dark';
                
                html.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                themeBtn.innerHTML = isDark ? '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
            });
            
            // Sidebar toggle
            const sidebarToggle = document.getElementById('sidebar-toggle');
            const sidebar = document.getElementById('side-nav');
            const overlay = document.querySelector('.mobile-overlay');
            
            sidebarToggle.addEventListener('click', () => {
                sidebar.classList.toggle('mobile-visible');
                overlay.style.display = sidebar.classList.contains('mobile-visible') ? 'block' : 'none';
            });
            
            overlay.addEventListener('click', () => {
                sidebar.classList.remove('mobile-visible');
                overlay.style.display = 'none';
            });
            
            // Initialize app - ONLY AFTER lesson2.js is loaded
            const app = new LearningApp();
            app.init();
        });
    </script>

<script>
  // Initialize the app after both DOM and script are loaded
  document.addEventListener('DOMContentLoaded', () => {
    const app = new LearningApp();
    app.init();
  });
</script>
</body>
</html>